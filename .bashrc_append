#### ここから https://github.com/hrko/home/.bashrc_append ####

# Fast Node Manager (fnm)
if fnm --version &> /dev/null; then
  eval "$(fnm completions --shell bash 2> /dev/null)"
  eval "$(fnm env --use-on-cd --shell bash 2> /dev/null)"
fi

# プロンプトとウィンドウタイトルのカスタマイズ
if starship --version &> /dev/null; then
  function set_win_title() {
    local ssh=""
    if [[ "$SSH_TTY" ]]; then
      ssh="[$(hostname -s)] "
    fi
    local cmd="$* "
    if [[ "$cmd" == "starship_precmd " || "$cmd" == " " ]]; then
      cmd=""
    fi
    local pwd
    pwd="$(starship module directory | sed -e 's/\x1b\[[0-9;]*m//g')"
    echo -ne "\033]0;$ssh$cmd$pwd\007"
  }
  starship_precmd_user_func="set_win_title"
  eval "$(starship init bash)"
  trap "$(trap -p DEBUG | awk -F"'" '{print $2}')set_win_title \${BASH_COMMAND}" DEBUG
fi

# VSCodeのシェル統合機能を有効化
[[ "$TERM_PROGRAM" == "vscode" ]] && . "$(code --locate-shell-integration-path bash)"

#### ここまで https://github.com/hrko/home/.bashrc_append ####
